{"version":3,"file":"src_app_auth_login_login_module_ts-src_app_services_global_service_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEd;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,kDAAS;KACrB;CACF,CAAC;IAMW,sBAAsB,SAAtB,sBAAsB;;AAAtB,sBAAsB;IAJlC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,sBAAsB;AAAA;;;;;;;;;;;;;;;;;;;;;;;AChBM;AACM;AACF;AAEA;AAEmB;AAEvB;IAW5B,eAAe,SAAf,eAAe;;AAAf,eAAe;IAT3B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,yEAAsB;SACvB;QACD,YAAY,EAAE,CAAC,kDAAS,CAAC;KAC1B,CAAC;GACW,eAAe;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnB5B,yDAAyD;AAChB;AACQ;AACC;AAIkB;AACI;AACE;AACM;IAOnE,SAAS,SAAT,SAAS;IAuCpB,YACU,MAAc,EACd,KAAsB,EACtB,eAAgC,EAChC,iBAAoC,EACpC,kBAAsC,EACtC,qBAA4C;QAL5C,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAiB;QACtB,oBAAe,GAAf,eAAe,CAAiB;QAChC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,uBAAkB,GAAlB,kBAAkB,CAAoB;QACtC,0BAAqB,GAArB,qBAAqB,CAAuB;QA3CtD,eAAU,GAAqB;YAC7B,EAAE,EAAE,CAAC;YACL,MAAM,EAAC,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAC,EAAE;YACT,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,CAAC;SACX,CAAC;QACF,gBAAW,GAAgB;YACzB,EAAE,EAAE,CAAC;YACL,MAAM,EAAC,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAC,EAAE;YACT,SAAS,EAAE,EAAE;SACd,CAAC;QACF,aAAQ,GAAmB;YACzB,EAAE,EAAE,CAAC;YACL,MAAM,EAAC,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAC,EAAE;YACT,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,CAAC;SACX,CAAC;QACF,UAAK,GAAG;YACN;gBACE,IAAI,EAAE,YAAY;aACnB;YACD;gBACE,IAAI,EAAE,UAAU;aACjB;YACD,IAAI;YACJ,wBAAwB;YACxB,IAAI;SACL,CAAC;QACF,aAAQ,GAAG,YAAY,CAAC;IAQpB,CAAC;IACL,mBAAmB,CAAC,KAAU;QAC5B,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IACK,iBAAiB;;YACrB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CACnC;gBACE,OAAO,EAAE,YAAY;gBACrB,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,SAAS;gBAChB,QAAQ,EAAE,KAAK;aAChB,CACF,CAAC;YACF,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IACK,eAAe;;YACnB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CACnC;gBACE,OAAO,EAAE,kCAAkC;gBAC3C,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,SAAS;gBAChB,QAAQ,EAAE,KAAK;aAChB,CACF,CAAC;YACF,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IACD,cAAc;QACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAClB;YACE,MAAM;YACN,kBAAkB;SACnB,CACF,CAAC;IACJ,CAAC;IACD,WAAW;QAET,IAAI,CAAC,MAAM,CAAC,QAAQ,CAClB;YACE,MAAM;YACN,UAAU;SACX,CACF,CAAC;IACJ,CAAC;IACD,KAAK;QACH,IAAI,CAAC,qBAAqB,CAAC,OAAO,EAAE,CAAC;QACrC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC5B,IAAI,IAAI,CAAC,QAAQ,KAAK,YAAY,EAAE;YAClC,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,UAAU,EAAE;YACvC,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,aAAa,EAAE;YAC1C,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;IACH,CAAC;IACD,eAAe;QACb,IAAI,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CACvE,QAAQ,CAAC,EAAE;YACT,IAAG,QAAQ,KAAK,IAAI,EAAC;gBACnB,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC3B,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAClE,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAClB;oBACE,SAAS;iBACV,CACF,CAAC;aACH;iBAAK;gBACJ,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,+DAA+D,CAAC,CAAC;aAC9E;QACH,CAAC,EAAC,GAAG,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACxC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,gBAAgB;QACd,IAAI,CAAC,kBAAkB,CAAC,yBAAyB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CACzE,QAAQ,CAAC,EAAE;YACT,IAAG,QAAQ,KAAK,IAAI,EAAE;gBACpB,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;gBAC5B,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;gBACjF,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAClB;oBACE,QAAQ;iBACT,CACF,CAAC;aACH;iBAAK;gBACJ,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,gEAAgE,CAAC,CAAC;aAC/E;QACH,CAAC,EAAC,GAAG,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QACzC,CAAC,CACF,CAAC;IACJ,CAAC;IACD,aAAa;QACX,IAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CACnE,QAAQ,CAAC,EAAE;YACT,IAAG,QAAQ,KAAK,IAAI,EAAE;gBACpB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACzB,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,CAAC;gBAC9E,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAClB;oBACE,SAAS;iBACV,CACF,CAAC;aACH;iBAAK;gBACJ,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,kFAAkF,CAAC,CAAC;aACjG;QACH,CAAC,EAAC,GAAG,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACtC,CAAC,CACF,CAAC;IACJ,CAAC;IAGD,QAAQ;IACR,CAAC;;;;;;;;;;AA3KU,SAAS;IALrB,wDAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,kEAAgC;;KAEjC,CAAC;GACW,SAAS;AAAA;;;;;;;;;;;;;;;;;;ACjBqB;IAK9B,aAAa,SAAb,aAAa;IAExB;QADO,iBAAY,GAAG,qDAAqD,CAAC;IAC5D,CAAC;;;AAFN,aAAa;IAHzB,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,aAAa;AAAA","sources":["./src/app/auth/login/login-routing.module.ts","./src/app/auth/login/login.module.ts","./src/app/auth/login/login.page.ts","./src/app/services/global.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","/* eslint-disable @typescript-eslint/naming-convention */\r\nimport { Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ProfesorDetail } from 'src/app/models/profesor';\r\nimport { Responsable } from 'src/app/models/responsable';\r\nimport { EstudianteDetail } from 'src/app/models/estudiante';\r\nimport { ProfesorService } from 'src/app/services/profesor.service';\r\nimport { EstudianteService } from 'src/app/services/estudiante.service';\r\nimport { ResponsableService } from 'src/app/services/responsable.service';\r\nimport { AuthenticationService } from 'src/app/services/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  parametro;\r\n  estudiante: EstudianteDetail = {\r\n    id: 0,\r\n    Nombre:'' ,\r\n    Apellido: '',\r\n    Genero:'' ,\r\n    Documento: '',\r\n    Seccion: '',\r\n    GradoId: 0\r\n  };\r\n  responsable: Responsable = {\r\n    id: 0,\r\n    Nombre:'' ,\r\n    Apellido: '',\r\n    Genero:'' ,\r\n    Documento: ''\r\n  };\r\n  profesor: ProfesorDetail = {\r\n    id: 0,\r\n    Nombre:'' ,\r\n    Apellido: '',\r\n    Genero:'' ,\r\n    Documento: '',\r\n    Seccion: '',\r\n    GradoId: 0\r\n  };\r\n  tipos = [\r\n    {\r\n      name: 'estudiante'\r\n    },\r\n    {\r\n      name: 'profesor'\r\n    },\r\n    // {\r\n    //   name: 'responsable'\r\n    // }\r\n  ];\r\n  eleccion = 'estudiante';\r\n  constructor(\r\n    private router: Router,\r\n    private toast: ToastController,\r\n    private profesorService: ProfesorService,\r\n    private estudianteService: EstudianteService,\r\n    private responsableService: ResponsableService,\r\n    private authenticationService: AuthenticationService,\r\n  ) { }\r\n  onOptionsSelectTipo(event: any){\r\n    const value = event.target.value;\r\n    this.eleccion = value;\r\n  }\r\n  async toastloginsucceed() {\r\n    const toast = await this.toast.create(\r\n      {\r\n        message: 'Bienvenido',\r\n        duration: 1000,\r\n        animated: true,\r\n        color: 'success',\r\n        position: 'top'\r\n      }\r\n    );\r\n    toast.present();\r\n  }\r\n  async toastloginerror() {\r\n    const toast = await this.toast.create(\r\n      {\r\n        message: 'Por favor Crear sus credenciales',\r\n        duration: 1000,\r\n        animated: true,\r\n        color: 'warning',\r\n        position: 'top'\r\n      }\r\n    );\r\n    toast.present();\r\n  }\r\n  registrarsedoc() {\r\n    this.router.navigate(\r\n      [\r\n        'auth',\r\n        'register-teacher'\r\n      ]\r\n    );\r\n  }\r\n  registrarse()\r\n  {\r\n    this.router.navigate(\r\n      [\r\n        'auth',\r\n        'register'\r\n      ]\r\n    );\r\n  }\r\n  login() {\r\n    this.authenticationService.loggout();\r\n    console.log(this.parametro);\r\n    if (this.eleccion === 'estudiante') {\r\n      this.loginestudiante();\r\n    } else if (this.eleccion === 'profesor') {\r\n      this.loginprofesor();\r\n    } else if (this.eleccion === 'responsable') {\r\n      this.loginresponsable();\r\n    }\r\n  }\r\n  loginestudiante() {\r\n    this.estudianteService.getsearchEstudiantebydoc(this.parametro).subscribe(\r\n      reslogin => {\r\n        if(reslogin !== null){\r\n          this.estudiante = reslogin;\r\n          console.log(this.estudiante);\r\n          console.log(this.eleccion);\r\n          this.authenticationService.loggin(this.estudiante, this.eleccion);\r\n          this.toastloginsucceed();\r\n          this.router.navigate(\r\n            [\r\n              'student'\r\n            ]\r\n          );\r\n        }else {\r\n          this.toastloginerror();\r\n          console.log('Documento no encontrado, Por favor registrece como estudiante');\r\n        }\r\n      },err => {\r\n        console.log('Error login estudiante');\r\n      }\r\n    );\r\n  }\r\n  loginresponsable() {\r\n    this.responsableService.getsearchResponsablebydoc(this.parametro).subscribe(\r\n      reslogin => {\r\n        if(reslogin !== null ){\r\n          this.responsable = reslogin;\r\n          this.authenticationService.loggin(this.responsable, this.eleccion.toLowerCase());\r\n          this.toastloginsucceed();\r\n          this.router.navigate(\r\n            [\r\n              'family'\r\n            ]\r\n          );\r\n        }else {\r\n          this.toastloginerror();\r\n          console.log('Documento no encontrado, Por favor registrece como responsable');\r\n        }\r\n      },err => {\r\n        console.log('Error login responsable');\r\n      }\r\n    );\r\n  }\r\n  loginprofesor() {\r\n    this.profesorService.getsearchProfesorbydoc(this.parametro).subscribe(\r\n      reslogin => {\r\n        if(reslogin !== null ){\r\n          this.profesor = reslogin;\r\n          this.authenticationService.loggin(this.profesor, this.eleccion.toLowerCase());\r\n          this.toastloginsucceed();\r\n          this.router.navigate(\r\n            [\r\n              'teacher'\r\n            ]\r\n          );\r\n        }else {\r\n          this.toastloginerror();\r\n          console.log('Documento no encontrado, Por favor registrece dentro de la aplicacion de su hijo');\r\n        }\r\n      },err => {\r\n        console.log('Error login profesor');\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class GlobalService {\r\n  public apiUrlGlobal = 'https://promoting-reading-in-students.herokuapp.com';\r\n  constructor() { }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}